function createHtml(a,b,c,d,e,f){createCommonHtml(createEmbedFrame,a,b,c,d,e,f)}function createOwnHtml(a,b,c,d,e,f){createCommonHtml(createOwnEmbedFrame,a,b,c,d,e,f)}function createCommonHtml(a,b,c,d,e,f,h){var g="";if(0==d.length)null!=e&&(g=e);else for(0!=h&&(d=shuffleArray(d)),e=0;e<d.length&&e<f;e++)g+=a(d[e].link);b.innerHTML=null!=c?c:"";b.innerHTML+=g}
function createOwnEmbedFrame(a){if(null==a)return console.log("link is null."),"";var b=getBlogUrl();return'<p><iframe src="'+a.replace(b+"/entry/",b+"/embed/")+'" width="100%" height="200px" scrolling="no" frameborder="0" style="margin:3px 0px;"></iframe></p>'}function getBlogUrl(a){if(null!=a)return a;a=document.location.href;0!==a.lastIndexOf("http",0)&&(a="http://bulldra.hatenablog.com",console.log("Return test url. "+a));return a.replace(/(^http:\/\/[^\/]*).*/,"$1")}
function createEmbedFrame(a){return null==a?"":'<p><iframe src="http://hatenablog.com/embed?url='+encodeURI(a)+'" width="100%" height="160px" scrolling="no" frameborder="0" style="margin:3px 0px;"></iframe></p>'}function shuffleArray(a){for(var b=a.length;b;){var c=Math.floor(Math.random()*b),d=a[--b];a[b]=a[c];a[c]=d}return a}function removeThisEntry(a){for(var b=[],c=location.href,d=0;d<a.length;d++)a[d].link!=c&&b.push(a[d]);console.log(a.length+" -> "+b.length);return b}
function addLinkProfile(a){var b=document.querySelector(".hatena-module-profile .hatena-module-title");if(null!=b){var c=document.createElement("a");c.innerHTML=b.innerHTML;c.href=a;b.removeChild(b.firstChild);b.appendChild(c)}}function setEmbedWidth(a){for(var b=document.querySelectorAll("iframe"),c=0;c<b.length;c++)null!=b[c]&&null!=b[c].src&&b[c].src.match(/http:\/\/.+\/embed[\/\?].*/)&&(b[c].style.maxWidth=a+"px")}
function addLinkHatenaModule(a,b,c){for(var d=document.querySelectorAll(".hatena-module-title"),e=0;e<d.length;e++)if(d[e].innerText==a){d[e].className+=" "+c;d[e].innerText="";var f=document.createElement("a");f.href=b;f.innerText=a;d[e].appendChild(f)}}function nofollowAboutIcon(){if(isAboutPage()){var a=document.querySelectorAll(".page-about .entry-content .info .profile-icon");if(null!=a)for(var b=0;b<a.length;b++)a[b].parentNode.rel="nofollow"}}
function isAboutPage(){return location.href==getBlogUrl()+"/about"?!0:!1};
function isTopPage(){return location.href==getBlogUrl()+"/"?!0:!1};
