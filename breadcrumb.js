function categoryReplace(){var d=getBlogUrl(),c=document.querySelectorAll("div.categories a");console.log(c);for(var f=0;f<c.length;f++){var a=c[f];if(null!=a.text&&void 0!==a.text){a.href=a.href.replace(d+"/category",d+"/archive/category");var b=a.text.split("-");2<=b.length&&(a.innerHTML=b[b.length-1])}}}
function writeCategoryBreadCrumb(){for(var d=getBlogUrl(),c=[],f=[],a=document.querySelectorAll("div.categories a"),b=0;b<a.length;b++){var e=a[b];if(null!=e.text&&void 0!==e.text){var g=e.href.replace(d,"");c[g]=!1;f[g]=e}}b=document.querySelector("div#breadcrumb");if(null!=b){d=[];a=[];for(g in c)e=g.split("-"),2<=e.length&&null!=f[e[0]]&&(e=e[0],d.push(createCategoryNode(f,g,e)),a.push(createBreadcrumbHtml(f,g,e)),c[g]=!0,c[e]=!0);for(g in c)0==c[g]&&(console.log(g),d.push(createCategoryNode(f,
g,null)),a.push(createBreadcrumbHtml(f,g,null)),c[g]=!0);if(0<a.length&&null!=b&&(b.innerHTML=a[0],console.log(b),"notHierarchy"!=b.className&&(c=document.querySelector("div.categories"),0<d.length&&null!=c)))for(c.innerHTML="",b=0;b<d.length;b++)null!=c&&null!=d[b]&&(c.appendChild(d[b]),b<d.length-1&&c.appendChild(document.createElement("br")))}}google.setOnLoadCallback(categoryReplace);google.setOnLoadCallback(writeCategoryBreadCrumb);
function categoryHierarchyModule(){var d=[],c=[],f=document.querySelector("div.hatena-module-category div.hatena-module-body");if(null!=f){var a=f.querySelectorAll("ul li a"),b;for(b in a)if(null!=a[b]&&null!=a[b].text){var e=a[b].text.split("-");2<=e.length?(a[b].text=e[e.length-1],e=e[0].replace(/\s+/g,""),null==c[e]&&(c[e]=[]),c[e].push(a[b])):(e=a[b].text.replace(/\s+/g,""),e=e.replace(/\([0-9]+\)$/,""),d[e]=a[b])}c='<ul class="hatena-urllist">';for(e in d)void 0!==d[e].outerHTML&&(c+="<li>"+
d[e].outerHTML+"</li> ");f.innerHTML=c}}function appendCategoryLink(d,c,f){var a=document.createElement("a");a.innerHTML=c;a.href=f;a.itemprop="url";d.appendChild(a)}
function createBreadcrumbHtml(d,c,f){var a=getBlogUrl(),a="<div itemscope='' itemtype='http://data-vocabulary.org/Breadcrumb'>"+("<a href='"+a+"' itemprop='url'>")+"<span itemprop='title'>TOP</span>",a=a+"</a>",a=a+"</div>";null!=f&&(a+=" > ",a+="<div itemscope='' itemtype='http://data-vocabulary.org/Breadcrumb'>",a+="<a href='"+d[f].href+"' itemprop='url'>",a+="<span itemprop = 'title'>"+d[f].text+"</span>",a+="</a>",a+="</div>");a+=" > ";a+="<div itemscope='' itemtype='http://data-vocabulary.org/Breadcrumb'>";
a+="<a href='"+d[c].href+"' itemprop='url'>";a+="<span itemprop='title'>"+d[c].text+"</span>";a+="</a>";a+="</div>";d=document.querySelector("h1.entry-title a");null!=d&&(a+=" > ",a+="<div itemscope='' itemtype='http://data-vocabulary.org/Breadcrumb'>",a+="<span itemprop='title'>"+d.text+"</span>",a+="</div>");return a}
function createCategoryNode(d,c,f){var a=getBlogUrl();console.log(c);var b=document.createElement("span");appendCategoryLink(b,"TOP",a);null!=f&&(b.appendChild(document.createTextNode(" > ")),b.appendChild(d[f].cloneNode(!0)));b.appendChild(document.createTextNode(" > "));b.appendChild(d[c].cloneNode(!0));return b};